{
    "componentChunkName": "component---src-templates-post-template-tsx",
    "path": "/2022-03-28/Execution_Context_3/",
    "result": {"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<p>실행 컨텍스트의 첫번째 포스트에서 실행 컨텍스트가 무엇이며 유형에는 어떠한 것들이 있는지, JavaScript 엔진이 실행 컨텍스트를 어떻게 관리하는지에 대하여 알아보았다.<br>\n두번째 포스트에서는 실행 컨텍스트의 정의와 ES5 이후의 Scope Chain의 변화 그리고 실행 컨텍스트의 세부 구조에 대해 알아보았다.<br>\n이번에는 실행 컨텍스트의 생성과 실행 과정에 대해 알아보고 생성 및 실행 단계에 대해서 알아보도록 하자\r\n<br/><br/>\r\n해당 부분 발췌</p>\n<p><strong>“How is the Execution Context created?”</strong><br>\n<a href=\"https://blog.bitsrc.io/understanding-execution-context-and-execution-stack-in-javascript-1c9ea8642dd0\">Javascript의 실행 컨텍스트 및 실행 스택에 대해</a>\r\n<br/><br/>\r\n지금까지 JavaScript 엔진이 실행 컨텍스트를 어떻게 관리하는지 알아보았다.<br>\n그럼 지금부터는 JavaScript 엔진이 실행 컨텍스트를 생성하는 방법에 대해 이해해보자<br>\n실행 컨텍스트는 두 단계로 나뉘어져 있다.</p>\n<ol>\n<li>생성 단계 (Creation Phase)</li>\n<li>실행 단계 (Execution Phase)</li>\n</ol>\n<h3>생성 단계 (Creation Phase)</h3>\n<p>실행 컨텍스트는 생성 단계 동안 아래의 컴포넌트가 발생한다. (생성 단계는 이전 포스팅에서도 설명되어있다.)</p>\n<ol>\n<li>Lexical Environment 컴포넌트가 생성된다.</li>\n<li>Variable Environment 컴포넌트가 생성된다.</li>\n</ol>\n<p>그럼 실행 컨텍스트는 개념적으론 아래와 같이 나타낼 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ExecutionContext = {\r\n  LexicalEnvironment = &lt;ref. to LexicalEnvironment in memory>,\r\n  VariableEnvironment = &lt;ref. to VariableEnvironment in  memory>,\r\n}</code></pre></div>\n<h3>Lexical Environment</h3>\n<p>Lexical Environment는 <b>인식자(identifier)-변수(variable) 매핑(mapping)</b>을 유지하고 있는 구조다.<br>\n(여기서 identifier란 변수/합수들의 이름을 참고하는 것이고, variable은 [함수 객체와 배열 객체를 포함하는] 실질적 객체 또는 기본값 대한 참조값이다.</p>\n<p>아래의 코드를 참고하면</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> <span class=\"token number\">20</span>\r\n<span class=\"token keyword\">var</span> b <span class=\"token operator\">=</span> <span class=\"token number\">40</span>\r\n\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'foo'</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>위 코드의 lexical environment는 다음과 같이 나타낼 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">lexicalEnvironment <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n  a<span class=\"token operator\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span>\r\n  b<span class=\"token operator\">:</span> <span class=\"token number\">40</span><span class=\"token punctuation\">,</span>\r\n  foo<span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>ref<span class=\"token punctuation\">.</span> to foo <span class=\"token keyword\">function</span><span class=\"token operator\">></span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>긱 Lexical Environment는 세가지 컴포넌트를 가지고 있다.</p>\n<ol>\n<li>Environment Record</li>\n<li>Reference to the outer environment</li>\n<li>This binding</li>\n</ol>\n<h3>Environment Record</h3>\n<p>Environment Record는 lexical environment 안에 저장된 변수와 함수의 선언이 있는 곳이다.<br>\nEnvironment Record에는 두가지 타입이 있다.</p>\n<p><strong>Declarative Environment Record</strong><br>\n변수와 함수의 선언에 대한 것으로 추측할 수 있다.<br>\nidentifier들(변수, 함수, 인수)을 저장한다.<br>\n함수 코드에 대한 lexical environment는 declarative environment record를 포함하고 있다.</p>\n<p><strong>Object Environment Record</strong><br>\n전역(global) 코드의 lexical environment는 object environment record를 포함하고 있다.<br>\n변수와 함수에 대한 선언과 구분지어, object environment record는 또한 전역 바인딩 객체(global binding object)\r\n(browser의 경우 window 객체)를 저장한다.<br>\n그리고 바인딩된 객체에 대한 각각의 속성(브라우저의 경우, window 객체에 browser에 의해 제공되는 속성과 메서드들이 포함된다.)에 대해 새로운 엔트리가 레코드 안에 생성된다.<br>\n함수 코드를 위해서, environment record는 또한 인덱스의 함수에 전달된 인자 사이의 관계에 대한 매핑과 함수로 전달된 인자들에 대한 길이(숫자, number)에 대한 정보를 담고있는 인자(argument) 객체를 포함한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">var</span> c <span class=\"token operator\">=</span> a <span class=\"token operator\">+</span> b<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n<span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token comment\">// argument object</span>\r\nArguments<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token number\">0</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> length<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<h3>Reference to the outer environment</h3>\n<p>Reference to the outer environment는 현재 실행 컨텍스트의 외부(outer) lexical environment에 대해 접근하는 것을 의미한다.<br>\n이것은 JavaScript 엔진이 현재 lexical environment에서 변수를 찾지 못한다면 <b>외부 환경(outer environment)</b>에서 찾을 수 있음을 의미한다.</p>\n<h3>This Binding</h3>\n<p>이 컴포넌트에서는 this의 값을 결정하거나 설정한다.<br>\nthis는 함수를 호출한 인스턴스를 가리키며, 함수가 어떻게 호출되는지에 따라 값이 달라진다.<br>\n전역(global) 실행 컨텍스트에서 this는 전역 객체를 참조한다. (browser에서 this는 window 객체를 참조한다.)<br>\n함수 실행 컨텍스트에서 this는 함수가 호출되는 방식에 따라 달라진다.<br>\n만약 객체 참조 방식에 따라 함수가 호출될 경우, this 값은 해당 객체로 설정되고 그렇지 않다면 this는 전역 객체 또는 (strict mode 에서는) undefined로 설정된다.</p>\n<p>예를 들면 아래의 코드에서</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> person <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n  name<span class=\"token operator\">:</span> <span class=\"token string\">'peter'</span><span class=\"token punctuation\">,</span>\r\n  birthYear<span class=\"token operator\">:</span> <span class=\"token number\">1996</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token function-variable function\">calcAge</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token number\">2018</span> <span class=\"token operator\">-</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>birthYear<span class=\"token punctuation\">)</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\nperson<span class=\"token punctuation\">.</span><span class=\"token function\">calcAge</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token comment\">// 'calcAge'가 'person' 객체 참조로 호출됐기 때문에 'this'는 'person'를 참조한다.</span>\r\n\r\n<span class=\"token keyword\">const</span> calculateAge <span class=\"token operator\">=</span> person<span class=\"token punctuation\">.</span>calcAge\r\n<span class=\"token function\">calculateAge</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token comment\">// 어떠한 객체 참조도 주어지지 않았기 때문에 'this'는 전역 window 객체를 참조한다.</span></code></pre></div>\n<p>추상적으로 lexical environment는 아래와 같은 가상의 코드로 나타낼 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">GlobalExectionContext <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n  LexicalEnvironment<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n    EnvironmentRecord<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n      Type<span class=\"token operator\">:</span> <span class=\"token string\">\"Object\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token comment\">// 인식자(Identifier) binding은 여기로 이동한다.</span>\r\n    <span class=\"token punctuation\">}</span>\r\n    outer<span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">null</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>global object<span class=\"token operator\">></span>\r\n  <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\nFunctionExectionContext <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n  LexicalEnvironment<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n    EnvironmentRecord<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n      Type<span class=\"token operator\">:</span> <span class=\"token string\">\"Declarative\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token comment\">// 인식자(Identifier) binding은 여기로 이동한다.</span>\r\n    <span class=\"token punctuation\">}</span>\r\n    outer<span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>Global or outer <span class=\"token keyword\">function</span> environment reference<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>depends on how <span class=\"token keyword\">function</span> is called<span class=\"token operator\">></span>\r\n  <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>Variable Environment</h3>\n<p>또한 Environment Record는 실행 컨텍스트에서 variable statements에 의해 생성된 binding을 보관하는 lexical environment다.<br>\n즉, Variable Environment 또한 lexical environment이며 위에서 정의한 것처럼 lexical environment의 모든 속성과 컨포넌트들을 가지고 있다.<br>\nES6에서 LexicalEnvironment와 Variable 컴포넌트의 한가지 차이점은 LexicalEnvironment는 함수 선언과<br>\n변수(let, const) 바인딩을 저장하는데 사용되며 VariableEnvironment는 오직 변수(var) 바인딩을 저장하는데 사용된다.</p>\n<p>이부분 까지는 이전 포스팅에서도 본 내용일 것이다.</p>\n<h3>실행 단계</h3>\n<p>이 단계에서는, 모든 변수에 대한 할당이 끝났으며 마침내 코드가 실행된다.</p>\n<p>예제 코드를 보자</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> a <span class=\"token operator\">=</span> <span class=\"token number\">20</span>\r\n<span class=\"token keyword\">const</span> b <span class=\"token operator\">=</span> <span class=\"token number\">30</span>\r\n<span class=\"token keyword\">var</span> c\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">multiply</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e<span class=\"token punctuation\">,</span> f</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">var</span> g <span class=\"token operator\">=</span> <span class=\"token number\">20</span>\r\n  <span class=\"token keyword\">return</span> e <span class=\"token operator\">*</span> f <span class=\"token operator\">*</span> g\r\n<span class=\"token punctuation\">}</span>\r\nc <span class=\"token operator\">=</span> <span class=\"token function\">multiply</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>이 코드를 실행하면, JavaScript 엔진은 전역(Global) 코드를 실행하기 위한 전역 실행 컨텍스트를 생성한다.<br>\n먼저 변수 a, b, c와 함수 multiply()를 글로벌 실행 컨텍스트에 저장한다.<br>\n이때 let, const, 함수 상태인 변수 a, b, 함수 multiply는 lexicalEnvironment에, var인 c는 variableEnvironment에 넣어준다.\r\n그리고 변수 a, b를 undefined로 초기화해준다.\r\n그럼 생성 단계에서 전역 실행 컨텍스트는 아래와 같은 가상의 코드처럼 될 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">GlobalExectionContext <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n  LexicalEnvironment<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n    EnvironmentRecord<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n      Type<span class=\"token operator\">:</span> <span class=\"token string\">\"Object\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token comment\">// 인식자(Identifier) binding은 여기로 이동한다.</span>\r\n      a<span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span> uninitialized <span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\r\n      b<span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span> uninitialized <span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\r\n      multiply<span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span> func <span class=\"token operator\">></span>\r\n    <span class=\"token punctuation\">}</span>\r\n    outer<span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">null</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\r\n    ThisBinding<span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>Global Object<span class=\"token operator\">></span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  VariableEnvironment<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n    EnvironmentRecord<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n      Type<span class=\"token operator\">:</span> <span class=\"token string\">\"Object\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token comment\">// 인식자(Identifier) binding은 여기로 이동한다.</span>\r\n      c<span class=\"token operator\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span>\r\n    outer<span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">null</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\r\n    ThisBinding<span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>Global Object<span class=\"token operator\">></span>\r\n  <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>실행 단계 동안, 변수 할당이 끝났으며 전역 실행 컨텍스트는 아래와 같은 가상의 코드처럼 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">GlobalExectionContext <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n  LexicalEnvironment<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n    EnvironmentRecord<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n      Type<span class=\"token operator\">:</span> <span class=\"token string\">\"Object\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token comment\">// 인식자(Identifier) binding은 여기로 이동한다.</span>\r\n      a<span class=\"token operator\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span>\r\n      b<span class=\"token operator\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span>\r\n      multiply<span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span> func <span class=\"token operator\">></span>\r\n    <span class=\"token punctuation\">}</span>\r\n    outer<span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">null</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\r\n    ThisBinding<span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>Global Object<span class=\"token operator\">></span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  VariableEnvironment<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n    EnvironmentRecord<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n      Type<span class=\"token operator\">:</span> <span class=\"token string\">\"Object\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token comment\">// 인식자(Identifier) binding은 여기로 이동한다.</span>\r\n      c<span class=\"token operator\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span>\r\n    outer<span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">null</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\r\n    ThisBinding<span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>Global Object<span class=\"token operator\">></span>\r\n  <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>multiply(20, 30) 함수에 대한 호출이 발생할 때, 새로운 함수(function) 실행 컨텍스트가 함수 코드를 실행하기 위해 생성된다.<br>\n함수 실행 컨텍스트는 전역 실행 컨텍스트와 유사하지만 전역 객체를 생성하는 대신 JavaScript엔진은 arguments 함수의 모든 매개변수에 대한 참조인 객체를 생성한다.<br>\n함수 실행 컨텍스트는 생성 단계동안 아래와 같은 가상의 코드처럼 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">FunctionExectionContext <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n  LexicalEnvironment<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n    EnvironmentRecord<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n      Type<span class=\"token operator\">:</span> <span class=\"token string\">\"Declarative\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token comment\">// 인식자(Identifier) binding은 여기로 이동한다.</span>\r\n      Arguments<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token number\">0</span><span class=\"token operator\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token operator\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span> length<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    outer<span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>GlobalLexicalEnvironment<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\r\n    ThisBinding<span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>Global Object or <span class=\"token keyword\">undefined</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  VariableEnvironment<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n    EnvironmentRecord<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n      Type<span class=\"token operator\">:</span> <span class=\"token string\">\"Declarative\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token comment\">// 인식자(Identifier) binding은 여기로 이동한다.</span>\r\n      g<span class=\"token operator\">:</span> <span class=\"token keyword\">undefined</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    outer<span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>GlobalLexicalEnvironment<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\r\n    ThisBinding<span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>Global Object or <span class=\"token keyword\">undefined</span><span class=\"token operator\">></span>\r\n  <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>위의 예시에서 함수 실행 컨텍스트는 arguments 함수에 전달된 모든 매개변수를 참조하는 객체를 생성하고 this 값을 전역 객체로 설정하고 g 매개변수를 undefined로 초기화한다.<br>\n이후, 실행 컨텍스트는 함수(function) 내에서 변수 할당이 끝났다는 의미로 실행 단계를 거치고 함수 실행 컨텍스트의 실행 단계에서 JavaScript 엔진은 g 매개변수에 20을 할당하게된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">FunctionExectionContext <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n  LexicalEnvironment<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n    EnvironmentRecord<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n      Type<span class=\"token operator\">:</span> <span class=\"token string\">\"Declarative\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token comment\">// 인식자(Identifier) binding은 여기로 이동한다.</span>\r\n      Arguments<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token number\">0</span><span class=\"token operator\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token operator\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span> length<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    outer<span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>GlobalLexicalEnvironment<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\r\n    ThisBinding<span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>Global Object or <span class=\"token keyword\">undefined</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  VariableEnvironment<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n    EnvironmentRecord<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n      Type<span class=\"token operator\">:</span> <span class=\"token string\">\"Declarative\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token comment\">// 인식자(Identifier) binding은 여기로 이동한다.</span>\r\n      g<span class=\"token operator\">:</span> <span class=\"token number\">20</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    outer<span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>GlobalLexicalEnvironment<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\r\n    ThisBinding<span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>Global Object or <span class=\"token keyword\">undefined</span><span class=\"token operator\">></span>\r\n  <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>함수가 완료된 후에, 반환된 값(12000)은 c에 저장되고, 전역(global) lexical environment가 업데이트 된다.<br>\nlet과 const로 정의된 변수는 생성 단계 동안에 그 어떠한 값(value)도 연결되지 않으며 var로 정의된 변수는 undefined로 설정된다는 것을 주의해야한다.<br>\n이것은 생성 단계에서 코드에서 변수와 함수 선언에 대해 스캔하고, 함수 선언이 환경에 함수 전체적으로 저장되는 동안, 변수는 처음에(var의 경우) undefined로 설정되거나 (let과 const의 경우) 비초기화(uninitialized) 상태로 유지되기 때문이다.</p>\n<p>이게 let과 const 변수가 선언되기 전에 접근하려고 할 때, 참조 에러(reference error)가 발생하는 것과는 다르게 var로 선언된 변수는 (undefined 로) 선언되기 전에 접근할 수 있는 이유다.<br>\n이것을 바로 <b>호이스팅(hoisting)</b>이라고 부른다.<br>\n실행 단계 동안에, JavaScript 엔진이 소스 코드(Source code)상에서 선언한 실제 위치에서 let 변수에 대한 값을 찾지 못한다면 이 변수에는 undefined 값이 할당될 것이다.</p>\n<h3>참조</h3>\n<p><a href=\"https://www.javascripttutorial.net/javascript-execution-context/\">자바스크립트 튜토리얼/자바스크립트 실행 컨텍스트</a></p>","frontmatter":{"title":"실행 컨텍스트(Execution Context) - 생성과 실행","summary":"실행 컨텍스트의 생성과 실행 과정에 대하여 알아보자","date":"2022.04.02.","categories":["JavaScript"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABgElEQVQ4y+2UzyvDYRzH/QOWE6VY+ZGI0jdDSK2lOLDLDqjV2C+z+TUnlxHhoOSwkprbSi5OKw4OO7hSko0trclwUOIg8eWl72Pf2kG21W4cPn36PM/neT/v9/v59BRx6aAw4YSohaI/DPh5YRf5I2pHjtpF/R6x8X5uE1ndV3NODD+U5oQLkq7vtZQH7ifg1gOx38B+AFSYcT1OaKuX4JoekuMsz+jolMqY90iCaU4M1YbXMyvcefCONDE2VM9BoI+qimLOQiaMBi37gT64cSNH7HxmYyjYKTIfp5lzNjNpbuTqcJAarQarqY7t5W6eTywQd2ZnKKel7vl7SIaH8fs6MRtrhWdHOwPsrBtoqC5hcapFeJn5QD8CvinePEwJqe3NpejbylmdbSUc7Ke6UiM87ZDKWFIA73IAFJsxBy+no6x4dfjcEk/HFkiMsbthEJI3F7ryGxvRFHcKBiJUr1Lu/Mcm82YxyGlJSsjpOq/BVg+rzZkH1Do72P9vU0jAL+WuodgKRyMEAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/ff8baacb3b7e020448d56932a93a427d/9b9a6/javascript_thumbnail.png","srcSet":"/static/ff8baacb3b7e020448d56932a93a427d/b78f2/javascript_thumbnail.png 112w,\n/static/ff8baacb3b7e020448d56932a93a427d/022a4/javascript_thumbnail.png 223w,\n/static/ff8baacb3b7e020448d56932a93a427d/9b9a6/javascript_thumbnail.png 446w","sizes":"(min-width: 446px) 446px, 100vw"},"sources":[{"srcSet":"/static/ff8baacb3b7e020448d56932a93a427d/5b8e6/javascript_thumbnail.webp 112w,\n/static/ff8baacb3b7e020448d56932a93a427d/cd3d4/javascript_thumbnail.webp 223w,\n/static/ff8baacb3b7e020448d56932a93a427d/48be0/javascript_thumbnail.webp 446w","type":"image/webp","sizes":"(min-width: 446px) 446px, 100vw"}]},"width":446,"height":414.99999999999994}},"publicURL":"/static/ff8baacb3b7e020448d56932a93a427d/javascript_thumbnail.png"}}}}]}},"pageContext":{"slug":"/2022-03-28/Execution_Context_3/"}},
    "staticQueryHashes": []}