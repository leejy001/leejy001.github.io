{
    "componentChunkName": "component---src-templates-post-template-tsx",
    "path": "/2022-01-20/heap/",
    "result": {"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h3>개발자가 알아야 하는 자료구조 8가지</h3>\n<p><strong>8. 힙</strong></p>\n<h3>힙이란?</h3>\n<p>힙은 완전 이진 트리에 있는 노드 중에서 키 값이 가장 큰 노드나 작은 노드를 찾기 위해 만든 자료구조다.<br>\n힙은 어떻게 보면 그래프나 트리와는 전혀 관계 없어 보이는 독특한 이름과는 다르게 트리기반의 자료구조다.</p>\n<h3>힙 종류</h3>\n<table>\r\n   <tr>\r\n     <th align=\"center\">\r\n       <img src='/images/DataStructure/Heap/max_heap.png' width='80%' alt='root_graph' />\r\n       <br>최대 힙\r\n     </th>\r\n     <th align=\"center\">\r\n       <img src='/images/DataStructure/Heap/min_heap.png' width='80%' alt='part_graph' />\r\n       <br>최소 힙\r\n    </th>\r\n  </tr>\r\n</table>\n<p>힙 종류에는 두가지가 있다.<br>\n키 값이 가장 큰 노드를 찾기 위한 힙은 <b>최대 힙</b>이라 하고, 키 값이 작은 노드를 찾기 위한 힙은 <b>최소 힙</b>이라고 한다.<br>\n최대 힙은 <b>부모노드의 키 값 > 자식노드의 키 값</b>의 관계를 가지는 완전이진트리이며 최대 힙의 루트 노드는 가장 큰 값이 된다.\r\n최소 힙은 <b>부모노드의 키 값 &#x3C; 자식노드의 키 값</b>의 관계를 가지며 최소 힙의 루트 노드는 가장 작은 값이 된다.</p>\n<p>힙의 최대/최소의 값을 검색하는데 <b>O(1)</b>의 시간복잡도를 가진다.\r\n이때 값을 얻기 위해 pop을 하면 <b>O(logN)</b>의 시간이 걸리며 맨 처음 펼쳐진 N개의 값들을 힙에 세팅해줘야 하기 때문에 N의 시간이 더 걸린다.\r\n그렇기에 힙의 시간 복잡도는 <b>O(NlogN)</b>이라고 이야기 한다.</p>\n<h3>힙 연산</h3>\n<p>힙을 만들 때는 배열을 이용해서 만든다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Heap</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\r\n  <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>두 힙을 서로 비교하고 값을 바꿔주는 swap함수를 만들어 주자</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// class Heap</span>\r\n<span class=\"token function\">swap</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token punctuation\">[</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">[</span>a<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">[</span>b<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">[</span>b<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">[</span>a<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>다음은 부모 노드의 인덱스와 왼쪽 자식 노드, 오른쪽 자식 노드의 인덱스를 구하는 코드와<br>\n두 자식 노드중 큰 값과 작은 값을 구하는 코드다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// class Heap</span>\r\n<span class=\"token function\">parent</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">index</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">return</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>index <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token function\">leftChild</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">index</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>index <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token function\">rightChild</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">index</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>index <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">2</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token function\">max</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">left<span class=\"token punctuation\">,</span> right</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">[</span>left<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">[</span>right<span class=\"token punctuation\">]</span> <span class=\"token operator\">?</span> right <span class=\"token operator\">:</span> left\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token function\">min</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">left<span class=\"token punctuation\">,</span> right</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">[</span>left<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">[</span>right<span class=\"token punctuation\">]</span> <span class=\"token operator\">?</span> left <span class=\"token operator\">:</span> right\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>힙의 삽입 연산</h3>\n<p>힙에서 삽입 연산을 진행할 때 가장 중요한 것은 완전 이진 트리를 유지하는것이다.<br>\n먼저 마지막 노드의 다음 자리를 확장하여 만든 자리에 노드를 임시로 저장한다.\r\n그 다음에 키 값의 관계가 최대 힙이 되도록 재구성하기 위해 삽입한 노드의 키 값과 부모 노드들의 키 값을 차례로 비교한다.</p>\n<br/>\n<table>\r\n   <tr>\r\n     <th align=\"center\">\r\n       <img src='/images/DataStructure/Heap/max_heap_add1.png' width='80%' alt='max_heap_add1' />\r\n       <br> 마지막 노드 삽입\r\n     </th>\r\n     <th align=\"center\">\r\n       <img src='/images/DataStructure/Heap/max_heap_add2.png' width='80%' alt='max_heap_add2' />\r\n       <br> 부모 노드와 비교하며 바꿔주기\r\n    </th>\r\n  </tr>\r\n</table>\n<p>힙의 삽입 연산 코드다.<br>\n우선 새로 넣어주는 값을 가장 마지막 노드에 넣고 해당 노드의 부모 노드의 인덱스를 구해준다.</p>\n<p><strong>최대 힙의 경우</strong><br>\n이렇게 구한 부모 노드의 인덱스 위치에 저장된 배열의 값과 자식 노드의 값을 비교해주며\r\n자식 노드가 더 크다면 해당 부모 노드와 swap해주고 다음 부모 노드의 인덱스를 구해준다.<br>\n이 과정을 부모노드가 자식노드보다 큰 경우까지 반복해주면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// class Heap</span>\r\n<span class=\"token function\">maxPush</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span>\r\n    <span class=\"token keyword\">let</span> idx <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span>\r\n    <span class=\"token keyword\">let</span> parent <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">parent</span><span class=\"token punctuation\">(</span>idx<span class=\"token punctuation\">)</span>\r\n\r\n    <span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">[</span>parent<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span> value<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">swap</span><span class=\"token punctuation\">(</span>parent<span class=\"token punctuation\">,</span> idx<span class=\"token punctuation\">)</span>\r\n        idx <span class=\"token operator\">=</span> parent\r\n        parent <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">parent</span><span class=\"token punctuation\">(</span>idx<span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>최소 힙의 경우</strong><br>\n먼저 마지막 노드의 다음 자리를 확장하여 만든 자리에 노드를 임시로 저장한다.\r\n그 다음에 키 값의 관계가 최소 힙이 되도록 재구성하기 위해 삽입한 노드의 키 값과 부모 노드들의 키 값을 차례로 비교한다.</p>\n<br/>\n<table>\r\n   <tr>\r\n     <th align=\"center\">\r\n       <img src='/images/DataStructure/Heap/min_heap_add1.png' width='80%' alt='min_heap_add1' />\r\n       <br> 마지막 노드 삽입\r\n     </th>\r\n     <th align=\"center\">\r\n       <img src='/images/DataStructure/Heap/min_heap_add2.png' width='80%' alt='min_heap_add2' />\r\n       <br> 부모 노드와 비교하며 바꿔주기\r\n    </th>\r\n  </tr>\r\n</table>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// class Heap</span>\r\n<span class=\"token function\">minPush</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">let</span> idx<span class=\"token punctuation\">,</span> parent <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span>\r\n    idx <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">.</span>length<span class=\"token operator\">-</span><span class=\"token number\">1</span>\r\n    parent <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">parent</span><span class=\"token punctuation\">(</span>idx<span class=\"token punctuation\">)</span>\r\n\r\n    <span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">[</span>parent<span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> value<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">swap</span><span class=\"token punctuation\">(</span>idx<span class=\"token punctuation\">,</span> parent<span class=\"token punctuation\">)</span>\r\n        idx <span class=\"token operator\">=</span> parent\r\n        parent <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">parent</span><span class=\"token punctuation\">(</span>idx<span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>힙의 추출 연산</h3>\n<p>힙에서의 삭제 연산은 항상 루트 노드에 있는 원소를 삭제하여 반환해준다.<br>\n최대 힙에서는 가장 큰 원소를 삭제하여 반환하며 최소 힙에서는 가장 작은 원소를 삭제하여 반환해준다.</p>\n<p><strong>최대힙의 경우</strong></p>\n<p>먼저 루트의 원소를 삭제해 주고 마지막 노드의 값을 루트 노드에 넣고 마지막 노드를 삭제한다.<br>\n그 다음에 자리를 바꾸며 가장 큰 노드가 루트 노드로 오게 한다.</p>\n<br/>\n<table>\r\n   <tr>\r\n     <th align=\"center\">\r\n       <img src='/images/DataStructure/Heap/max_heap_delete1.png' width='80%' alt='max_heap_delete1' />\r\n       <br> 루트 노드 삭제 후 마지막 노드 루트로 이동\r\n     </th>\r\n     <th align=\"center\">\r\n       <img src='/images/DataStructure/Heap/max_heap_delete2.png' width='87%' alt='max_heap_delete2' />\r\n       <br> 부모 노드와 비교하며 바꿔주기\r\n    </th>\r\n  </tr>\r\n</table>\n<p>힙의 추출 연산 코드다.<br>\n힙의 추출은 삽입보다 조건이 까다롭다.<br>\n일단 마지막 노드를 루트 노드로 이동시키는 것 까진 간단하지만,\r\n이동한 다음에 자식요소가 없는 경우, 왼쪽 자식만 있는 경우, 두 가지 자식이 모두 존재하는 경우를 따져봐야 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// class Heap</span>\r\n<span class=\"token function\">maxPop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> lastIdx <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span>\r\n    <span class=\"token keyword\">let</span> idx <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">swap</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> lastIdx<span class=\"token punctuation\">)</span>  <span class=\"token comment\">// 루트 노드와 마지막 노드를 swap해준다.</span>\r\n    <span class=\"token keyword\">let</span> value <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">.</span><span class=\"token function\">pop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n\r\n    <span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span>idx <span class=\"token operator\">&lt;</span> lastIdx<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">let</span> leftChildIdx <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">leftChild</span><span class=\"token punctuation\">(</span>idx<span class=\"token punctuation\">)</span>\r\n        <span class=\"token keyword\">let</span> rightChildIdx <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">rightChild</span><span class=\"token punctuation\">(</span>idx<span class=\"token punctuation\">)</span>\r\n\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>leftChildIdx <span class=\"token operator\">></span> lastIdx<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// 왼쪽 자식 인덱스가 더 크다는 것은 자식 노드가 없다는 뜻</span>\r\n            <span class=\"token keyword\">break</span>\r\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>rightChildIdx <span class=\"token operator\">></span> lastIdx<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  <span class=\"token comment\">// 왼쪽 자식만 있는 경우</span>\r\n            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">[</span>idx<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">[</span>leftChildIdx<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  <span class=\"token comment\">// 왼쪽 자식이 더 크다면, 둘이 자리를 바꿔준다.</span>\r\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">swap</span><span class=\"token punctuation\">(</span>idx<span class=\"token punctuation\">,</span> leftChildIdx<span class=\"token punctuation\">)</span>\r\n                idx <span class=\"token operator\">=</span> leftChildIdx\r\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">break</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>  <span class=\"token comment\">// 둘다 있는 경우 하나의 자식노드의 값이라도 부모노드 값보다 크다면</span>\r\n            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">[</span>leftChildIdx<span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">[</span>idx<span class=\"token punctuation\">]</span> <span class=\"token operator\">||</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">[</span>rightChildIdx<span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">[</span>idx<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token comment\">// 두 자식을 비교해 가장 큰 자식노드와 부모노드를 swap</span>\r\n                <span class=\"token keyword\">let</span> maxChildIdx <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">max</span><span class=\"token punctuation\">(</span>leftChildIdx<span class=\"token punctuation\">,</span> rightChildIdx<span class=\"token punctuation\">)</span>\r\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">swap</span><span class=\"token punctuation\">(</span>idx<span class=\"token punctuation\">,</span> maxChildIdx<span class=\"token punctuation\">)</span>\r\n                idx <span class=\"token operator\">=</span> maxChildIdx\r\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>  <span class=\"token comment\">// 둘다 작은 경우 바꾸지 않음</span>\r\n                <span class=\"token keyword\">break</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n    <span class=\"token keyword\">return</span> value\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>최소 힙의 경우</strong><br>\n먼저 루트의 원소를 삭제해 주고 마지막 노드의 값을 루트 노드에 넣고 마지막 노드를 삭제한다.<br>\n자리를 바꾸며 가장 작은 노드가 루트 노드로 오게 한다.</p>\n<br/>\n<table>\r\n   <tr>\r\n     <th align=\"center\">\r\n       <img src='/images/DataStructure/Heap/min_heap_delete1.png' width='80%' alt='min_heap_delete1' />\r\n       <br> 루트 노드 삭제 후 마지막 노드 루트로 이동\r\n     </th>\r\n     <th align=\"center\">\r\n       <img src='/images/DataStructure/Heap/min_heap_delete2.png' width='100%' alt='min_heap_delete2' />\r\n       <br> 부모 노드와 비교하며 바꿔주기\r\n    </th>\r\n  </tr>\r\n</table>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// class Heap</span>\r\n<span class=\"token function\">minPop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> lastIdx <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span>\r\n    <span class=\"token keyword\">let</span> idx <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">swap</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> lastIdx<span class=\"token punctuation\">)</span>  <span class=\"token comment\">// 루트 노드와 마지막 노드를 swap해준다.</span>\r\n    <span class=\"token keyword\">let</span> value <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">.</span><span class=\"token function\">pop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n\r\n    <span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span>idx <span class=\"token operator\">&lt;</span> lastIdx<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">let</span> leftChildIdx <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">leftChild</span><span class=\"token punctuation\">(</span>idx<span class=\"token punctuation\">)</span>\r\n        <span class=\"token keyword\">let</span> rightChildIdx <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">rightChild</span><span class=\"token punctuation\">(</span>idx<span class=\"token punctuation\">)</span>\r\n\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>leftChildIdx <span class=\"token operator\">></span> lastIdx<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// 왼쪽 자식 인덱스가 더 크다는 것은 자식 노드가 없다는 뜻</span>\r\n            <span class=\"token keyword\">break</span>\r\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>rightChildIdx <span class=\"token operator\">></span> lastIdx<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  <span class=\"token comment\">// 왼쪽 자식만 있는 경우</span>\r\n            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">[</span>idx<span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">[</span>leftChildIdx<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  <span class=\"token comment\">// 왼쪽 자식이 더 작으면, 둘이 자리를 바꿔준다.</span>\r\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">swap</span><span class=\"token punctuation\">(</span>idx<span class=\"token punctuation\">,</span> leftChildIdx<span class=\"token punctuation\">)</span>\r\n                idx <span class=\"token operator\">=</span> leftChildIdx\r\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">break</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>  <span class=\"token comment\">// 둘다 있는 경우 하나의 자식노드의 값이라도 부모노드 값보다 작다면</span>\r\n            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">[</span>leftChildIdx<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">[</span>idx<span class=\"token punctuation\">]</span> <span class=\"token operator\">||</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">[</span>rightChildIdx<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">[</span>idx<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token comment\">// 두 자식을 비교해 가장 작은 자식노드와 부모노드를 swap</span>\r\n                <span class=\"token keyword\">let</span> minChildIdx <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">min</span><span class=\"token punctuation\">(</span>leftChildIdx<span class=\"token punctuation\">,</span> rightChildIdx<span class=\"token punctuation\">)</span>\r\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">swap</span><span class=\"token punctuation\">(</span>idx<span class=\"token punctuation\">,</span> minChildIdx<span class=\"token punctuation\">)</span>\r\n                idx <span class=\"token operator\">=</span> minChildIdx\r\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>  <span class=\"token comment\">// 둘다 큰 경우 바꾸지 않음</span>\r\n                <span class=\"token keyword\">break</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n    <span class=\"token keyword\">return</span> value\r\n<span class=\"token punctuation\">}</span></code></pre></div>","frontmatter":{"title":"Heap","summary":"Heap에 대해 알아보고 최대힙과 최소힙을 구현해보자","date":"2022.01.20.","categories":["Data Structure"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB0klEQVQ4y+WTSUibURSFs3WtgoIoglCsKI5ZtDWNWAccQcSqUKgYMzggDouCgiA47gQ3QqkTiCLYTaFWnEDIsl0Uk5jaVCsKLly5ETV+8u7fxBhDdZHShYvD/97j3nPPvff8OtxthBM6XCbCCR07ZsKJf0N45WoSqPOlw4TXqd0vtk2cb2v34LgHKZTg383w06q9HbfBSTv8suK9hyi0wh8WVj6U4FmrA7eZsZ5ndDak4vxcAx6rX7ki950DVauvn/DCYZIkQ3YMS+MFDHXpKXwex3C3Hn1aNKffGqSgJHusoppdiwZfd0qhv8K+DfZsFL6I49NEMYOdOWSlRLE49or1mTJtjm6zzNWzVsvOl9cc298IQircmquQhOqiRKaGjRIw0Z9LfXkSmU+jcC3XSMGz743YFyqZGTUyPWJkcujlrR2IQiXfkBNLry2DjORIVidL6WvNpONtKl8/VhETHcHmbBkcNHPpaNKWtmsR1coFSoi/ZWllz4Z9vpKK/ATemdMlYH+jnsbqJ5TnxfN+wCAEvvF4g+xzp2UhVTNUljlo0QLV4I9apRiHLXcSQ234pmVlaKdmBWXsK9fN2fvHAYGJf/VhqKqBrQSr+D//8uMivAZBrJ/B2hbCgwAAAABJRU5ErkJggg=="},"images":{"fallback":{"src":"/static/2a6529472fa535fa0d95f83bb967b2ef/33c28/heap_thumbnail.png","srcSet":"/static/2a6529472fa535fa0d95f83bb967b2ef/4ca28/heap_thumbnail.png 111w,\n/static/2a6529472fa535fa0d95f83bb967b2ef/9aee3/heap_thumbnail.png 222w,\n/static/2a6529472fa535fa0d95f83bb967b2ef/33c28/heap_thumbnail.png 444w","sizes":"(min-width: 444px) 444px, 100vw"},"sources":[{"srcSet":"/static/2a6529472fa535fa0d95f83bb967b2ef/41d48/heap_thumbnail.webp 111w,\n/static/2a6529472fa535fa0d95f83bb967b2ef/b5aa9/heap_thumbnail.webp 222w,\n/static/2a6529472fa535fa0d95f83bb967b2ef/e9753/heap_thumbnail.webp 444w","type":"image/webp","sizes":"(min-width: 444px) 444px, 100vw"}]},"width":444,"height":419}},"publicURL":"/static/2a6529472fa535fa0d95f83bb967b2ef/heap_thumbnail.png"}}}}]}},"pageContext":{"slug":"/2022-01-20/heap/"}},
    "staticQueryHashes": []}