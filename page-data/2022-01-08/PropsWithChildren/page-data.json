{
    "componentChunkName": "component---src-templates-post-template-tsx",
    "path": "/2022-01-08/PropsWithChildren/",
    "result": {"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h3>리액트 개발일지 [PropsWithChildren]</h3>\n<p>리액트로 프로젝트를 개발할 때 가장 중요한 것 중 하나가 컴포넌트를 잘 만드는 것이다.<br>\n컴포넌트는 리액트로 이루어진 앱을 만드는데 가장 최소한의 단위이기도 하고 이러한 컴포넌트들을 유기적으로 연결해서 하나의 앱을 만들기 때문이다.\r\n따라서 하나의 목적에만 부합하는 것이 아닌 어떤 패턴의 코드에 항상 적용할 수 있는 재사용 컴포넌트를 만들어야 했다.\r\n개발을 진행하면서 일부 컴포넌트 폼이 재사용되는 것을 발견해고 해당 컴포넌트를 따로 분리하여 여러 컴포넌트에서 사용하는 방법을 고민해야했다.</p>\n<h3>ReactNode와 PropsWithChildren</h3>\n<p>타입스크립트로 개발을 진행하고 있어서 <b>ReactNode</b>라는 타입, children이라는 속성과 다른 속성들도 한꺼번에 전달하는 방법을 고민했다.\r\nReactNode는 jsx내에서 사용할 수 있는 모든 요소의 타입을 의미하며 <a href=\"https://leejy001.github.io/2022-01-02/react_component_type/\">다음 포스트</a>에서 자세히 알아볼 수 있다.\r\n<br/><br/>\r\n그럼 재사용 컴포넌트를 구현해보자 React + Typescript 환경에 styled-components를 추가해줬다.<br>\n일단 재사용할 컴포넌트를 Form.tsx에 따로 구현한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">// Form.tsx</span>\r\n<span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> ReactNode <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\r\n<span class=\"token keyword\">import</span> styled <span class=\"token keyword\">from</span> <span class=\"token string\">'styled-components'</span>\r\n\r\n<span class=\"token keyword\">const</span> FormWrapper <span class=\"token operator\">=</span> styled<span class=\"token punctuation\">.</span>div<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\r\n  width: 90%;\r\n  height: auto;\r\n  background-color: lightblue;\r\n</span><span class=\"token template-punctuation string\">`</span></span>\r\n\r\n<span class=\"token keyword\">const</span> FormTitle <span class=\"token operator\">=</span> styled<span class=\"token punctuation\">.</span>div<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  border-bottom: 2px solid black;\r\n  height: 40px;\r\n  p {\r\n    font-size: 20px;\r\n    border-bottom: 0;\r\n    margin-left: 20px;\r\n  }\r\n  button {\r\n    margin-right: 20px;\r\n  }\r\n</span><span class=\"token template-punctuation string\">`</span></span>\r\n\r\n<span class=\"token keyword\">const</span> FormBody <span class=\"token operator\">=</span> styled<span class=\"token punctuation\">.</span>div<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\r\n  p {\r\n    font-size: 18px;\r\n    color: blue;\r\n    border-bottom: 1px solid black;\r\n    margin: 0;\r\n  }\r\n</span><span class=\"token template-punctuation string\">`</span></span>\r\n\r\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">FormTypes</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n  title<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\r\n  <span class=\"token function-variable function\">onClick</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">void</span>\r\n  children<span class=\"token operator\">?</span><span class=\"token operator\">:</span> ReactNode\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">Form</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> title<span class=\"token punctuation\">,</span> onClick<span class=\"token punctuation\">,</span> children <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> FormTypes<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n    <span class=\"token operator\">&lt;</span>FormWrapper<span class=\"token operator\">></span>\r\n      <span class=\"token operator\">&lt;</span>FormTitle<span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>title<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>onClick<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>클릭<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\r\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>FormTitle<span class=\"token operator\">></span>\r\n      <span class=\"token operator\">&lt;</span>FormBody<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>FormBody<span class=\"token operator\">></span>\r\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>FormWrapper<span class=\"token operator\">></span>\r\n  <span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Form</code></pre></div>\n<p>그다음 재사용 컴포넌트를 적용할 App.tsx에 다음과 같이 선언하면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">// App.tsx</span>\r\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token string\">'./styles.css'</span>\r\n<span class=\"token keyword\">import</span> Form <span class=\"token keyword\">from</span> <span class=\"token string\">'./Form'</span>\r\n\r\n<span class=\"token keyword\">const</span> ListItem <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\r\n  <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> title<span class=\"token operator\">:</span> <span class=\"token string\">'당근'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> title<span class=\"token operator\">:</span> <span class=\"token string\">'사과'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> title<span class=\"token operator\">:</span> <span class=\"token string\">'바나나'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">]</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">onClickOne</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'컴포넌트 1'</span><span class=\"token punctuation\">)</span>\r\n  <span class=\"token punctuation\">}</span>\r\n\r\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n    <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"App\"</span><span class=\"token operator\">></span>\r\n      <span class=\"token operator\">&lt;</span>Form title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'컴포넌트 1'</span><span class=\"token punctuation\">}</span> onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>onClickOne<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\r\n        <span class=\"token punctuation\">{</span>ListItem<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>item <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\r\n          <span class=\"token operator\">&lt;</span>p key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Form<span class=\"token operator\">></span>\r\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n  <span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>실행 해보면 다음과 같은 결과를 얻는다.\r\n<br/><br/></p>\n<p align=\"center\"><img src='/images/React/component_example.png' width='90%' alt='component_example' /><p>\n<p>여기서 한가지 중요한 점은 FormBody라는 div태그 내부에 children을 선언했다.<br>\n따라서 FormBody는 children에 들어가는 컴포넌트 태그의 스타일도 변경할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> FormBody <span class=\"token operator\">=</span> styled<span class=\"token punctuation\">.</span>div<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\r\n  p {\r\n    font-size: 18px;\r\n    color: blue;\r\n    border-bottom: 1px solid black;\r\n    margin: 0;\r\n  }\r\n</span><span class=\"token template-punctuation string\">`</span></span></code></pre></div>\n<p>위 코드를 보면 FormBody의 p태그의 글씨 크기는 18px이며 색깔은 파란색으로 지정 해준것을 볼 수 있다.<br>\nForm.tsx는 다음과 같이 여러 컴포넌트에서 재사용이 가능하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">// App.tsx</span>\r\n<span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n  <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"App\"</span><span class=\"token operator\">></span>\r\n    <span class=\"token operator\">&lt;</span>Form title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'컴포넌트 1'</span><span class=\"token punctuation\">}</span> onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>onClickOne<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\r\n      <span class=\"token punctuation\">{</span>ListItem<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>item <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\r\n        <span class=\"token operator\">&lt;</span>p key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\r\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Form<span class=\"token operator\">></span>\r\n    <span class=\"token operator\">&lt;</span>br <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n    <span class=\"token operator\">&lt;</span>Form title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'컴포넌트 2'</span><span class=\"token punctuation\">}</span> onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>onClickTwo<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\r\n      <span class=\"token operator\">&lt;</span>NoList<span class=\"token operator\">></span>No List<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>NoList<span class=\"token operator\">></span>\r\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Form<span class=\"token operator\">></span>\r\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>물론 ReactNode외에도 ReactNode와 비슷한 기능을 하는 <b>PropsWithChildren</b>이 있다.<br>\nPropsWithChildren도 ReactNode처럼 컴포넌트 재사용을 할 수 있으며 다음은 PropsWithChildren의 타입이다.</p>\n<p><code class=\"language-text\">type PropsWithChildren&lt;P> = P &amp; { children?: ReactNode };</code></p>\n<p>PropsWithChildren은 children의 type을 따로 선언할 필요는 없고 선언한 FormTypes을 PropsWithChildren의 Type으로 넣어주면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">// Form.tsx</span>\r\n<span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> PropsWithChildren <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">FormTypes</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n  title<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token function-variable function\">onClick</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">Form</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n  title<span class=\"token punctuation\">,</span>\r\n  onClick<span class=\"token punctuation\">,</span>\r\n  children\r\n<span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> PropsWithChildren<span class=\"token operator\">&lt;</span>FormTypes<span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n    <span class=\"token comment\">// write code here</span>\r\n  <span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Form</code></pre></div>\n<p>다음 아래의 코드 샌드박스에 ReactNode와 PropsWithChildren을 이용한 두가지 방법으로 자주 사용되는 컴포넌트를 분리해서 재사용해봤다.\r\n재사용하는 컴포넌트가 있다면 따로 분리해서 코드 양을 줄이는 것도 리액트 앱을 최적화 시키는 하나의 방법이다.</p>\n<iframe src=\"https://codesandbox.io/embed/falling-frost-1mc6d?fontsize=14&hidenavigation=1&theme=dark\"\r\n     style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\"\r\n     title=\"falling-frost-1mc6d\"\r\n     allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\r\n     sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\r\n   ></iframe>","frontmatter":{"title":"PropsWithChildren","summary":"PropsWithChildren을 쓰는 방법에 대해서 알아보자","date":"2022.01.08.","categories":["React","Development"],"showThumbnail":true,"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABHklEQVQoz2NggAMmJhBiZASRVACMjCBEWBEDA5O0PKOIOIOgCJOsEooU3DkQsyAORNHOK8Bs5coSGM8SksJi48HIJwgSFBRm5OAk7EAmDX3WlFKWnDqWzGqW9ComTQMmfiHWwHhWW3dmWSUmYXEQEpNk5BdkVtNlMXdAtpaf2dGHOTCeuayHubiDJTyN2d6LWUmTI6eePSyVPbGQzTOM3TOMI6mYzTOURdOQLTAexcOMcsos0dksKWWsKWUs8fmM8iqMbOzM2sbM6rqsZg4s6noseqasRtYsRtbMGgYsemaMLKxI7ubkZjaxZXYLYvEIZTZ3ZOTiISVKGBgYhUQZePkZuLgZhcUQ8cTIBI0teFDD1JMXsXiSBCMDyDbiAAC9GyFNzFepXAAAAABJRU5ErkJggg=="},"images":{"fallback":{"src":"/static/05c747946e6af1bf9553069c57fc8845/7002e/react_thumbnail.jpg","srcSet":"/static/05c747946e6af1bf9553069c57fc8845/e8044/react_thumbnail.jpg 400w,\n/static/05c747946e6af1bf9553069c57fc8845/a09fe/react_thumbnail.jpg 800w,\n/static/05c747946e6af1bf9553069c57fc8845/7002e/react_thumbnail.jpg 1600w","sizes":"(min-width: 1600px) 1600px, 100vw"},"sources":[{"srcSet":"/static/05c747946e6af1bf9553069c57fc8845/a29e4/react_thumbnail.webp 400w,\n/static/05c747946e6af1bf9553069c57fc8845/64466/react_thumbnail.webp 800w,\n/static/05c747946e6af1bf9553069c57fc8845/e0e60/react_thumbnail.webp 1600w","type":"image/webp","sizes":"(min-width: 1600px) 1600px, 100vw"}]},"width":1600,"height":900}},"publicURL":"/static/05c747946e6af1bf9553069c57fc8845/react_thumbnail.png"}}}}]}},"pageContext":{"slug":"/2022-01-08/PropsWithChildren/"}},
    "staticQueryHashes": []}