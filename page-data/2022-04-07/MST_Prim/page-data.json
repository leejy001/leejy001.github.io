{
    "componentChunkName": "component---src-templates-post-template-tsx",
    "path": "/2022-04-07/MST_Prim/",
    "result": {"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h3>알고리즘 정리 10번째 [Prim Algorithm]</h3>\n<p>이전 시간에 Kruskal 알고리즘에 대해 알아봤다.<br>\nPrim 알고리즘도 Kruskal과 마찬가지로 Greedy 알고리즘에 속한다. 가중치가 있는 연결된 무향 그래프의 모든 꼭짓점을 포함하면서 각 변의 비용의 합이 최소가 되는 부분 그래프인 트리이다.</p>\n<h3>Prim MST 알고리즘</h3>\n<p>시작 정점에서부터 출발하여 신장트리 집합을 단계적으로 확장하는 방법</p>\n<ul>\n<li>정점 선택을 기반으로 하는 알고리즘이다.</li>\n<li>이전 단계에서 만들어진 신장 트리를 확장하는 방법이다.</li>\n</ul>\n<h3>Prim MST 알고리즘 동작 과정</h3>\n<p align=\"center\"><img src='/images/Algorithm/Prim/Prim_one.png' width='80%' alt='prim_one'/><p>\n<p>세트 mstSet은 초기에 비어 있고 정점에 할당된 키는 {0, INF, INF, INF, INF, INF, INF, INF}이며 INF는 가장 큰 정수를 나타낸다.\r\n이제 최소 키 값으로 정점을 선택하는데 정점 0이 선택되어 mstSet에 포함되고 mstSet은 {0}이 된다.<br>\n정점 0을 mstSet에 포함시킨 후 인접 정점의 키 값을 업데이트한다.<br>\n0의 인접 정점은 1과 7이고 1과 7의 키 값은 4와 8로 업데이트된다.<br>\n다음 하위 그래프는 정점과 해당 키 값을 보여주지만 유한 키 값을 가진 정점만 표시된다.<br>\nMST에 포함된 꼭짓점은 녹색으로 표시해줄것이다.</p>\n<p align=\"center\"><img src='/images/Algorithm/Prim/Prim_two.png' width='20%' alt='prim_two'/><p>\n<p>키 값이 최소이고 MST에 아직 포함되지 않은 정점을 선택한다. (mstSet에는 없음)<br>\n정점 1이 선택되어 mstSet에 추가되고 mstSet은 이제 {0, 1}이 된다.<br>\n인접 정점의 키 값을 1로 업데이트하고. 정점 2의 키 값은 8이 된다.</p>\n<p align=\"center\"><img src='/images/Algorithm/Prim/Prim_three.png' width='30%' alt='prim_three'/><p>\n<p>키 값이 최소이고 MST에 아직 포함되지 않은 정점을 선택한다. (mstSet에는 없음)<br>\n정점 7 또는 정점 2를 선택할 수 있다. 정점 7을 선택하고 mstSet은 이제 {0, 1, 7}이 된다.<br>\n인접한 정점 7의 키 값을 업데이트한다. 정점 6과 8의 키 값은 유한이 된다. (각각 1과 7).</p>\n<p align=\"center\"><img src='/images/Algorithm/Prim/Prim_four.png' width='30%' alt='prim_four'/><p>\n<p>키 값이 최소이고 MST에 아직 포함되지 않은 정점을 선택한다. (mstSet에는 없음)<br>\n정점 6이 선택되고 mstSet은 이제 {0, 1, 7, 6}이 된다.<br>\n인접 정점 6의 키 값을 업데이트한다. 정점 5와 8의 키 값이 업데이트된다.</p>\n<p align=\"center\"><img src='/images/Algorithm/Prim/Prim_five.png' width='40%' alt='prim_five'/><p>\n<p>mstSet에 주어진 그래프의 모든 정점이 포함될 때까지 위의 단계를 반복하면 마지막에 다음 그래프를 얻는다.</p>\n<p align=\"center\"><img src='/images/Algorithm/Prim/Prim_last.png' width='50%' alt='prim_last'/><p>\n<h3>MST - Prim 코드 (인접 행렬)</h3>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// 그래프의 정점 수</span>\r\n<span class=\"token keyword\">let</span> <span class=\"token constant\">V</span> <span class=\"token operator\">=</span> <span class=\"token number\">5</span>\r\n\r\n<span class=\"token comment\">// MST에 아직 포함되지 않은 꼭짓점 집합에서 키 값이 최소인 꼭짓점을 찾는 함수</span>\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">minKey</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">key<span class=\"token punctuation\">,</span> mstSet</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token comment\">// 최소값 초기화</span>\r\n  <span class=\"token keyword\">let</span> min <span class=\"token operator\">=</span> Number<span class=\"token punctuation\">.</span><span class=\"token constant\">MAX_VALUE</span>\r\n  <span class=\"token keyword\">let</span> min_index\r\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> v <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> v <span class=\"token operator\">&lt;</span> <span class=\"token constant\">V</span><span class=\"token punctuation\">;</span> v<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>mstSet<span class=\"token punctuation\">[</span>v<span class=\"token punctuation\">]</span> <span class=\"token operator\">===</span> <span class=\"token boolean\">false</span> <span class=\"token operator\">&amp;&amp;</span> key<span class=\"token punctuation\">[</span>v<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span> min<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      min <span class=\"token operator\">=</span> key<span class=\"token punctuation\">[</span>v<span class=\"token punctuation\">]</span>\r\n      min_index <span class=\"token operator\">=</span> v\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">}</span>\r\n  <span class=\"token keyword\">return</span> min_index\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token comment\">// parent[]에 저장된 생성된 MST를 출력하는 함수</span>\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">printMST</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">parent<span class=\"token punctuation\">,</span> graph</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token constant\">V</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>parent<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> <span class=\"token string\">' - '</span> <span class=\"token operator\">+</span> i<span class=\"token punctuation\">,</span> graph<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>parent<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\r\n  <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token comment\">// 인접 행렬 표현을 사용하여 표현된 그래프에 대한 MST를 구성하고 인쇄하는 함수</span>\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">primMST</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">graph</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token comment\">// 해당 MST의 부모 노드를 저장할 배열</span>\r\n  <span class=\"token keyword\">let</span> parent <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\r\n  <span class=\"token comment\">// 최소 가중치 값을 저장하는 배열</span>\r\n  <span class=\"token keyword\">let</span> key <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\r\n  <span class=\"token comment\">// 방문 완료된 노드를 표시하는 배열</span>\r\n  <span class=\"token keyword\">let</span> mstSet <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\r\n  <span class=\"token comment\">// 모든 키를 INF로 초기화</span>\r\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token constant\">V</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    key<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> Number<span class=\"token punctuation\">.</span><span class=\"token constant\">MAX_VALUE</span>\r\n    mstSet<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span>\r\n  <span class=\"token punctuation\">}</span>\r\n  <span class=\"token comment\">// 항상 MST의 첫 번째 첫 번째 정점을 포함</span>\r\n  <span class=\"token comment\">// 이 정점이 첫 번째 정점으로 선택되도록 키를 0으로 만든다.</span>\r\n  key<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\r\n  parent<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span> <span class=\"token comment\">// 첫 번째 노드는 항상 MST의 루트 노드</span>\r\n\r\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> count <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> count <span class=\"token operator\">&lt;</span> <span class=\"token constant\">V</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> count<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token comment\">// MST에 아직 포함되지 않은 정점 집합에서 최소 키 정점을 선택</span>\r\n    <span class=\"token keyword\">let</span> u <span class=\"token operator\">=</span> <span class=\"token function\">minKey</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">,</span> mstSet<span class=\"token punctuation\">)</span>\r\n    <span class=\"token comment\">// 선택한 정점을 mseSet에 추가</span>\r\n    mstSet<span class=\"token punctuation\">[</span>u<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\r\n    <span class=\"token comment\">// 선택된 정점의 인접 정점의 키 값과 상위 인덱스를 업데이트한다.</span>\r\n    <span class=\"token comment\">// mstSet에 아직 포함되지 않은 정점만 고려</span>\r\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> v <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> v <span class=\"token operator\">&lt;</span> <span class=\"token constant\">V</span><span class=\"token punctuation\">;</span> v<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token comment\">// graph[u][v]는 m의 인접 정점에 대해서만 0이 아니다.</span>\r\n      <span class=\"token comment\">// mstSet[v]는 아직 MST에 포함되지 않은 정점에 대해 false다.</span>\r\n      <span class=\"token comment\">// graph[u][v]가 key[v]보다 작은 경우에만 키를 업데이트한다.</span>\r\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>graph<span class=\"token punctuation\">[</span>u<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>v<span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> mstSet<span class=\"token punctuation\">[</span>v<span class=\"token punctuation\">]</span> <span class=\"token operator\">===</span> <span class=\"token boolean\">false</span> <span class=\"token operator\">&amp;&amp;</span> graph<span class=\"token punctuation\">[</span>u<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>v<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span> key<span class=\"token punctuation\">[</span>v<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        parent<span class=\"token punctuation\">[</span>v<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> u\r\n        key<span class=\"token punctuation\">[</span>v<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> graph<span class=\"token punctuation\">[</span>u<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>v<span class=\"token punctuation\">]</span>\r\n      <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">}</span>\r\n  <span class=\"token function\">printMST</span><span class=\"token punctuation\">(</span>parent<span class=\"token punctuation\">,</span> graph<span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">let</span> graph <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\r\n  <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">[</span><span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">9</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">]</span>\r\n\r\n<span class=\"token function\">primMST</span><span class=\"token punctuation\">(</span>graph<span class=\"token punctuation\">)</span>\r\n\r\n<span class=\"token comment\">/*\r\n0 - 1 2\r\n1 - 2 3\r\n0 - 3 6\r\n1 - 4 5\r\n*/</span></code></pre></div>\n<p>나도 배우면서 이해가 잘 안되어서 동작 과정을 나열해보았다.</p>\n<div class=\"gatsby-highlight\" data-language=\"plaintext\"><pre class=\"language-plaintext\"><code class=\"language-plaintext\">우선 해당 노드의 부모노드가 저장될 parent를 초기화 한다.\r\nparent = []\r\n그 다음 최소 가중치 값을 저장해줄 key를 INF로 초기화 한다.\r\nkey = [INF, INF, INF, INF, INF]\r\n마지막으로 정점의 방문 여부를 파악할 mstSet을 초기화해준다.\r\nmstSet = [false, false, false, false, false]\r\n\r\n우선 처음으로 root 노드를 방문해준다.\r\n\r\n0부터 출발하며 0은 부모 노드가 없기에 parent[0]을 -1로 초기화 해준다.\r\nparent[-1]\r\n최소 가중치 값도 없기에 0으로 초기화 해준다.\r\nkey = [0, INF, INF, INF, INF]\r\nmstSet이 false인 노드중 가장 key값이 작은 노드는 0번 노드이기에 (minKey 함수)\r\nif (mstSet[v] === false &amp;&amp; key[v] &lt; min)\r\n\r\n최소 정점인 u는 0번 노드가 된다.\r\nu = 0\r\nmstSet도 0번 노드는 방문을 했기때문에 true로 바꿔준다.\r\nmstSet = [true, false, false, false, false]\r\n\r\n0과 인접한 노드를 전부 parent와 key에 저장한다.\r\n[0, 2, 0, 6, 0]\r\n[2, 0, 3, 8, 5] &lt;= 1번\r\n[0, 3, 0, 0, 7]\r\n[6, 8, 0, 0, 9] &lt;= 3번\r\n[0, 5, 7, 9, 0]\r\n\r\nparent = [-1, 0, empty, 0]\r\nkey = [0, 2, INF, 6, INF]\r\n\r\n다음 0과 인접한 노드 중 가중치가 최소인 노드는 어디일까? (minKey 함수)\r\nif (mstSet[v] === false &amp;&amp; key[v] &lt; min)\r\n[0, 2, 0, 6, 0]\r\n[2, 0, 3, 8, 5] &lt;= 1번 (가중치 2)\r\n[0, 3, 0, 0, 7]\r\n[6, 8, 0, 0, 9]\r\n[0, 5, 7, 9, 0]\r\n1번 노드다.\r\n\r\n최소 정점 노드 u는 1번 노드가 되고\r\nu = 1\r\nmstSet도 1번 노드가 방문 확정이므로 true로 바꿔준다.\r\nmstSet[true, true, false, false, false]\r\n\r\n그 다음 1번 정점의 인접 노드를 구해주고\r\n[0, 2, 0, 6, 0]\r\n[2, 0, 3, 8, 5]\r\n[0, 3, 0, 0, 7] &lt;= 2번\r\n[6, 8, 0, 0, 9] &lt;= 3번\r\n[0, 5, 7, 9, 0] &lt;= 4번\r\n해당 인접노드의 가중치 중 최소값을 parent와 key에 넣어준다.\r\n이때 2번과 4번 노드는 이전 노드(부모 노드)가 1이기 때문에 1을 넣어준다.\r\n\r\nparent = [-1, 0, 1, 0, 1]\r\nkey = [0, 2, 3, 6, 5]\r\n\r\n이렇게 인접 노드에서 가중치가 작은 순서대로 구해주면\r\n다음과 같은 최소 가중치를 가진 경로가 나온다.\r\n0 - 1 2\r\n1 - 2 3\r\n0 - 3 6\r\n1 - 4 5\r\n\r\n여기서 주의할 점은 이중 for문 중 첫 번째 for문은 단지 노드의 수 만큼 반복하기위해 존재한다.\r\n인접 행렬로 구현했기 때문에 노드 한개마다 다른 인접 노드 유무를 확인하기위해 이중 for문으로 구현.</code></pre></div>\n<p>위 프로그램의 시간 복잡도는 <b>O(V^2)</b>이다.<br>\n정점의 갯수만큼 2차원 배열을 확장시킨 다음에 하나의 노드당 연결되어 있는 인접 노드들의 최소 가중치 값을 전부 파악해줘야하기 때문이다.\r\n그래프를 인접 리스트로 표현하고 최소 힙을 이용하면 Prim 알고리즘의 시간 복잡도를 <b>O(E log V)</b>로 줄일 수 있다.</p>\n<h3>MST - Prim 코드 (인접 리스트)</h3>\n<p>맨 처음 초기화 과정은 인접 행렬 방식과 동일하며<br>\nqueue에 해당 정점의 인접 정점들을 저장하며 만약 인접 정점의 가중치들 중, 기존의 가중치보다 더 작은 가중치가 나온다면 업데이트 해준다.<br>\n정점의 가중치들을 수정해준뒤에는 항상 최소값이 앞에 오도록 수정을 해줘야한다.\r\n여기선 최소힙을 직접 구현하는 대신에 다음 노드로 방문하기 전에 항상 queue를 오름차순으로 정렬하여 앞서부터 빼준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token constant\">MST</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">road<span class=\"token punctuation\">,</span> <span class=\"token constant\">N</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">let</span> graph <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\r\n  <span class=\"token keyword\">let</span> mstSet <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">(</span><span class=\"token constant\">N</span><span class=\"token punctuation\">)</span>\r\n  <span class=\"token keyword\">let</span> cost <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">(</span><span class=\"token constant\">N</span><span class=\"token punctuation\">)</span>\r\n  <span class=\"token keyword\">let</span> parent <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">(</span><span class=\"token constant\">N</span><span class=\"token punctuation\">)</span>\r\n  <span class=\"token keyword\">let</span> path <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\r\n\r\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token constant\">N</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    graph<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\r\n  <span class=\"token punctuation\">}</span>\r\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token keyword\">in</span> road<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    graph<span class=\"token punctuation\">[</span>road<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>road<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> road<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\r\n    graph<span class=\"token punctuation\">[</span>road<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>road<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> road<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\r\n  <span class=\"token punctuation\">}</span>\r\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token constant\">N</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    cost<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> vertex<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> key<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span> <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">}</span>\r\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token constant\">N</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    mstSet<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span>\r\n    cost<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>key <span class=\"token operator\">=</span> Number<span class=\"token punctuation\">.</span><span class=\"token constant\">MAX_VALUE</span>\r\n    cost<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>vertex <span class=\"token operator\">=</span> i\r\n    parent<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span>\r\n  <span class=\"token punctuation\">}</span>\r\n\r\n  cost<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>key <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\r\n  <span class=\"token keyword\">let</span> queue <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\r\n\r\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token constant\">N</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    queue<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>cost<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\r\n  <span class=\"token punctuation\">}</span>\r\n  queue<span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> a<span class=\"token punctuation\">.</span>key <span class=\"token operator\">-</span> b<span class=\"token punctuation\">.</span>key<span class=\"token punctuation\">)</span>\r\n\r\n  <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>queue<span class=\"token punctuation\">.</span>length <span class=\"token operator\">!==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">let</span> curNode <span class=\"token operator\">=</span> queue<span class=\"token punctuation\">.</span><span class=\"token function\">shift</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n    path<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>curNode<span class=\"token punctuation\">.</span>vertex<span class=\"token punctuation\">)</span>\r\n    mstSet<span class=\"token punctuation\">[</span>curNode<span class=\"token punctuation\">.</span>vertex<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\r\n    <span class=\"token comment\">// 추출된 정점 V의 모든 인접 정점에 대해</span>\r\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> iterator <span class=\"token keyword\">of</span> graph<span class=\"token punctuation\">[</span>curNode<span class=\"token punctuation\">.</span>vertex<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token comment\">// V가 큐에 있는 경우</span>\r\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>mstSet<span class=\"token punctuation\">[</span>iterator<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">===</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">// 인접 정점의 키 값이 추출된 키보다 크면</span>\r\n        <span class=\"token comment\">// 인접 정점의 키 값을 업데이트하여 먼저 업데이트</span>\r\n        <span class=\"token comment\">// 업데이트된 정점을 제거하고 추가</span>\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>cost<span class=\"token punctuation\">[</span>iterator<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>key <span class=\"token operator\">></span> iterator<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n          queue<span class=\"token punctuation\">.</span><span class=\"token function\">splice</span><span class=\"token punctuation\">(</span>queue<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span>cost<span class=\"token punctuation\">[</span>iterator<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\r\n          cost<span class=\"token punctuation\">[</span>iterator<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>key <span class=\"token operator\">=</span> iterator<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\r\n          queue<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>cost<span class=\"token punctuation\">[</span>iterator<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\r\n          queue<span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> a<span class=\"token punctuation\">.</span>key <span class=\"token operator\">-</span> b<span class=\"token punctuation\">.</span>key<span class=\"token punctuation\">)</span>\r\n          parent<span class=\"token punctuation\">[</span>iterator<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> curNode<span class=\"token punctuation\">.</span>vertex\r\n        <span class=\"token punctuation\">}</span>\r\n      <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">}</span>\r\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span> <span class=\"token comment\">// [0, 1, 7, 6, 5, 2, 8, 3, 4]</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">let</span> <span class=\"token constant\">N</span> <span class=\"token operator\">=</span> <span class=\"token number\">9</span>\r\n<span class=\"token keyword\">let</span> road <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\r\n  <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">11</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">9</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">14</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">[</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">[</span><span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">[</span><span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">[</span><span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">]</span>\r\n\r\n<span class=\"token constant\">MST</span><span class=\"token punctuation\">(</span>road<span class=\"token punctuation\">,</span> <span class=\"token constant\">N</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3>참고</h3>\n<p><a href=\"https://www.geeksforgeeks.org/prims-minimum-spanning-tree-mst-greedy-algo-5/?ref=gcse\">프림 알고리즘 (인접 행렬)</a><br>\n<a href=\"https://www.geeksforgeeks.org/prims-mst-for-adjacency-list-representation-greedy-algo-6/?ref=rp\">프림 알고리즘 (인접 리스트)</a></p>","frontmatter":{"title":"MST - Prim","summary":"대표적인 최소 신장 트리 알고리즘(MST) 중 하나인 Prim Algorithm에 대해서 알아보자","date":"2022.04.12.","categories":["JavaScript","Algorithm"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB20lEQVQoz4WTvW4TQRSF9zmQQMI0CWb/Zma9PzbeXVuL7cSJHRnJIgrBcaSkSBc7CUQOVXBK8go8AB0C0YWGmo6CgnegRx/ygKMNMqI4mh+dc3TvnTOGlJI8hBD8ffcvLOIaiwiz1XVdDcdxsG37GrPzHHNu3tjIG3lSouTvfRiGhFFAklRJkpg4jknThLha0ftyuYyUQmvyHka+qmVHYDouge9zcnzC8eiUo8NTpq8uuJieszPcZ/JyyuXla47GIx44rtaInKmRL3tYK9GIPIqWQ6VaojeM6DzziOs+luWxkgmGTxSe5+NIRStS7KQl3FzbxqzkJVvwohXAWcaX3QqtRpt2v8zZh7ucfyrQHfi0W2t8e38Hvt/icN8jy9b4uv8QJhnjZqA9vLnhfUdwkPkwrvPxaZk0ecTK44jnb+8xeVegsx2Q1ZpcvSnw4/Nt9rZKxGmDq0GFn6M6e3Vfeyg9wz/9W66gGSpCT2JaDq6wWO1VWe8nCGWytGySJiH9Xo1i0ca0Hc1thEprr2eYf3bTFXoeSilsy6aWZAy2d+msd9nY6LK5ucVqu4tlmXhKaa6ZM7vxKFJH5mYEXOHiB76OSBRFRFGIUgKpxXKhxvjfL5gHfI58zBbpfgGM7H9ZqlA5NQAAAABJRU5ErkJggg=="},"images":{"fallback":{"src":"/static/ad2b3a90f38f948a4d0047d87d4889fe/1362d/algorithm.png","srcSet":"/static/ad2b3a90f38f948a4d0047d87d4889fe/d7a72/algorithm.png 187w,\n/static/ad2b3a90f38f948a4d0047d87d4889fe/72cd2/algorithm.png 374w,\n/static/ad2b3a90f38f948a4d0047d87d4889fe/1362d/algorithm.png 747w","sizes":"(min-width: 747px) 747px, 100vw"},"sources":[{"srcSet":"/static/ad2b3a90f38f948a4d0047d87d4889fe/dd88c/algorithm.webp 187w,\n/static/ad2b3a90f38f948a4d0047d87d4889fe/b0485/algorithm.webp 374w,\n/static/ad2b3a90f38f948a4d0047d87d4889fe/8b221/algorithm.webp 747w","type":"image/webp","sizes":"(min-width: 747px) 747px, 100vw"}]},"width":747,"height":420}},"publicURL":"/static/ad2b3a90f38f948a4d0047d87d4889fe/algorithm.png"}}}}]}},"pageContext":{"slug":"/2022-04-07/MST_Prim/"}},
    "staticQueryHashes": []}